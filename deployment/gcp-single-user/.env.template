# ========================================
# R2R Single-User Environment Configuration
# ========================================
# Copy this file to .env.production and fill in your values
# IMPORTANT: Never commit .env.production to git!
# ========================================

# ========================================
# GCP Configuration
# ========================================
GCP_PROJECT_ID=your-project-id
VERTEX_PROJECT=your-project-id
VERTEX_LOCATION=us-central1

# ========================================
# PostgreSQL Configuration
# ========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-this-strong-password
POSTGRES_DBNAME=r2r

# Performance tuning (for e2-medium: 4GB RAM)
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=2GB
POSTGRES_WORK_MEM=16MB

# ========================================
# RabbitMQ Configuration (for full mode)
# ========================================
RABBITMQ_USERNAME=user
RABBITMQ_PASSWORD=change-this-password

# ========================================
# Hatchet Configuration (for full mode)
# ========================================
HATCHET_CLIENT_TOKEN=  # Auto-generated, leave empty

# ========================================
# R2R Configuration
# ========================================
R2R_PROJECT_NAME=r2r-single-user
MAX_WORKERS=2  # Low for single user

# Automatic extraction (CRITICAL!)
AUTOMATIC_EXTRACTION=true
AUTOMATIC_DEDUPLICATION=true

# ========================================
# AI Provider: Vertex AI (Primary)
# ========================================
# Service account key should be in vertex-ai-key.json

# ========================================
# AI Provider: OpenAI (Alternative/Fallback)
# ========================================
OPENAI_API_KEY=sk-...

# ========================================
# AI Provider: Anthropic (Optional)
# ========================================
ANTHROPIC_API_KEY=

# ========================================
# AI Provider: Cohere (Optional)
# ========================================
COHERE_API_KEY=

# ========================================
# External Services (Optional)
# ========================================

# Firecrawl (web scraping)
FIRECRAWL_API_KEY=

# Serper (web search)
SERPER_API_KEY=

# Tavily (web search)
TAVILY_API_KEY=

# SciPhi Cloud API (Optional)
SCIPHI_API_KEY=
SCIPHI_API_BASE=https://api.sciphi.ai

# ========================================
# Feature Flags
# ========================================

# Enable dashboard profile
ENABLE_DASHBOARD=false  # Set to true to run R2R Dashboard

# Enable Hatchet frontend (for full mode)
ENABLE_HATCHET_FRONTEND=false  # Set to true to run Hatchet Dashboard

# ========================================
# Deployment Configuration
# ========================================

# VM Instance
INSTANCE_NAME=r2r-single-user
INSTANCE_ZONE=us-central1-a
INSTANCE_TYPE=e2-medium  # 4GB RAM, 2 vCPU

# Use preemptible instance for 70% cost savings
USE_PREEMPTIBLE=true

# VM scheduling (to save costs)
VM_START_HOUR=9   # Start VM at 9 AM
VM_STOP_HOUR=18   # Stop VM at 6 PM
VM_TIMEZONE=America/New_York

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7
GCS_BACKUP_BUCKET=r2r-backups-${GCP_PROJECT_ID}

# ========================================
# SSL/TLS Configuration (for Nginx)
# ========================================
DOMAIN_NAME=r2r.yourdomain.com
SSL_EMAIL=you@yourdomain.com
