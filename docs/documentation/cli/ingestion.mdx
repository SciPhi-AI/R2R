---
title: 'Ingestion'
description: 'Ingesting files with the R2R CLI.'
---

<Note>
Occasionally this CLI documentation falls out of date, cross-check with the automatcially generated <a href="/api-reference/introduction"> API Reference documentation </a> for the latest parameters.
</Note>

## Document Ingestion and Management

### Ingest Files

Ingest files or directories into your R2R system using the `ingest-files` command:

```bash
r2r ingest-files path/to/file1.txt path/to/file2.txt \
  --document-ids 9fbe403b-c11c-5aae-8ade-ef22980c3ad1 \
  --metadatas '{"key1": "value1"}'
```

<AccordionGroup>
  <Accordion title="Arguments">
    <ParamField path="file_paths" type="list[str]" required>
      The paths to the files to ingest.
    </ParamField>

    <ParamField path="--document-ids" type="list[str]">
      Optional document IDs to assign to the ingested files. If not provided, new document IDs will be generated.
    </ParamField>

    <ParamField path="--metadatas" type="str">
      Optional metadata to attach to the ingested files, provided as a JSON string. If ingesting multiple files, the metadata will be applied to all files.
    </ParamField>
  </Accordion>
</AccordionGroup>

### Retry Failed Ingestions

Retry ingestion for documents that previously failed using the `retry-ingest-files` command:

```bash
r2r retry-ingest-files 9fbe403b-c11c-5aae-8ade-ef22980c3ad1
```

<AccordionGroup>
  <Accordion title="Arguments">
    <ParamField path="document_ids" type="list[str]" required>
      The IDs of the documents to retry ingestion for.
    </ParamField>
  </Accordion>
</AccordionGroup>

### Update Files

Update existing documents using the `update-files` command:

```bash
r2r update-files path/to/file1_v2.txt \
  --document-ids 9fbe403b-c11c-5aae-8ade-ef22980c3ad1 \
  --metadatas '{"key1": "value2"}'
```

<AccordionGroup>
  <Accordion title="Arguments">
    <ParamField path="file_paths" type="list[str]" required>
      The paths to the updated files.
    </ParamField>

    <ParamField path="--document-ids" type="str" required>
      The IDs of the documents to update, provided as a comma-separated string.
    </ParamField>

    <ParamField path="--metadatas" type="str">
      Optional updated metadata to attach to the documents, provided as a JSON string. If updating multiple files, the metadata will be applied to all files.
    </ParamField>
  </Accordion>
</AccordionGroup>

### Ingest Sample Files

Ingest one or more sample files from the R2R GitHub repository using the `ingest-sample-file` or `ingest-sample-files` commands:

```bash
# Ingest a single sample file
r2r ingest-sample-file

# Ingest a smaller version of the sample file
r2r ingest-sample-file --v2

# Ingest multiple sample files
r2r ingest-sample-files
```

These commands have no additional arguments. The `--v2` flag for `ingest-sample-file` ingests a smaller version of the sample Aristotle text file.

### Ingest Local Sample Files

Ingest the local sample files in the `core/examples/data_unstructured` directory using the `ingest-sample-files-from-unstructured` command:

```bash
r2r ingest-sample-files-from-unstructured
```

This command has no additional arguments. It will ingest all files found in the `data_unstructured` directory.
