{"openapi":"3.1.0","info":{"title":"R2R Application API","version":"1.0.0"},"paths":{"/v3/documents":{"post":{"summary":"Create a new document","description":"Creates a new Document object from an input file or text content. The document will be processed\nto create chunks for vector indexing and search.\n\nEither a file or text content must be provided, but not both. Regular users can only create\ndocuments for themselves, while superusers can create documents for any user.\n\nThe ingestion process runs asynchronously and its progress can be tracked using the returned\ntask_id.","operationId":"create_document_v3_documents_post","security":[{"HTTPBearer":[]}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_document_v3_documents_post"}}}},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_DocumentIngestionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.create(\n  file_path=\"pg_essay_1.html\",\n  metadata={\"metadata_1\":\"some random metadata\"},\n  id=None\n)"},{"lang":"cURL","source":"\ncurl -X POST \"https://api.example.com/v3/documents\" \\\n-H \"Content-Type: multipart/form-data\" \\\n-H \"Authorization: Bearer YOUR_API_KEY\" \\\n-F \"file=@pg_essay_1.html;type=text/html\" \\\n-F 'metadata={}' \\\n-F 'id=null'"}]},"get":{"summary":"List documents","description":"Returns a paginated list of documents the authenticated user has access to.\n\nResults can be filtered by providing specific document IDs. Regular users will only see\ndocuments they own or have access to through collections. Superusers can see all documents.\n\nThe documents are returned in order of last modification, with most recent first.","operationId":"get_documents_v3_documents_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ids","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"description":"A list of document IDs to retrieve. If not provided, all documents will be returned.","default":[],"title":"Ids"},"description":"A list of document IDs to retrieve. If not provided, all documents will be returned."},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"The offset of the first document to retrieve.","default":0,"title":"Offset"},"description":"The offset of the first document to retrieve."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":-1,"description":"The maximum number of documents to retrieve. If set to -1, all documents will be returned, otherwise up to 1,000 documents will be returned.","default":100,"title":"Limit"},"description":"The maximum number of documents to retrieve. If set to -1, all documents will be returned, otherwise up to 1,000 documents will be returned."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_list_DocumentResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.list(\n  limit=10,\n  offset=0\n)"},{"lang":"cURL","source":"\ncurl -X GET \"https://api.example.com/v3/documents\"                                                               -H \"Authorization: Bearer YOUR_API_KEY\" "}]}},"/v3/documents/{id}":{"post":{"summary":"Update a document","description":"Updates an existing document with new content and/or metadata. This will trigger\nreprocessing of the document's chunks and knowledge graph data.\n\nEither a new file or text content must be provided, but not both. The update process\nruns asynchronously and its progress can be tracked using the returned task_id.\n\nRegular users can only update their own documents. Superusers can update any document.\nAll previous document versions are preserved in the system.","operationId":"update_document_v3_documents__id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"The ID of the document. If not provided, a new ID will be generated.","title":"Id"},"description":"The ID of the document. If not provided, a new ID will be generated."}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_document_v3_documents__id__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_DocumentIngestionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.update(\n  file_path=\"pg_essay_1.html\",\n  id=\"9fbe403b-c11c-5aae-8ade-ef22980c3ad1\"\n)"},{"lang":"cURL","source":"\ncurl -X POST \"https://api.example.com/document/9fbe403b-c11c-5aae-8ade-ef22980c3ad1\"                                                               -H \"Content-Type: multipart/form-data\"                                                               -H \"Authorization: Bearer YOUR_API_KEY\"                                                               -F \"file=@pg_essay_1.html;type=text/plain\" "}]},"get":{"summary":"Retrieve a document","description":"Retrieves detailed information about a specific document by its ID.\n\nThis endpoint returns the document's metadata, status, and system information. It does not\nreturn the document's content - use the `/documents/{id}/download` endpoint for that.\n\nUsers can only retrieve documents they own or have access to through collections.\nSuperusers can retrieve any document.","operationId":"get_document_v3_documents__id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"The ID of the document to retrieve.","title":"Id"},"description":"The ID of the document to retrieve."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_DocumentResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.retrieve(\n  id=\"9fbe403b-c11c-5aae-8ade-ef22980c3ad1\"\n)"},{"lang":"cURL","source":"\ncurl -X GET \"https://api.example.com/v3/documents/9fbe403b-c11c-5aae-8ade-ef22980c3ad1\"                                                               -H \"Authorization: Bearer YOUR_API_KEY\" "}]},"delete":{"summary":"Delete a document","description":"Delete a specific document. All chunks corresponding to the document are deleted, and all other references to the document are removed.\n\nNOTE - Deletions do not yet impact the knowledge graph or other derived data. This feature is planned for a future release.","operationId":"delete_document_by_id_v3_documents__id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Document ID","title":"Id"},"description":"Document ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.delete(\n  id=\"9fbe403b-c11c-5aae-8ade-ef22980c3ad1\"\n)"},{"lang":"cURL","source":"\ncurl -X DELETE \"https://api.example.com/v3/documents/b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\"                                                             -H \"Authorization: Bearer YOUR_API_KEY\" "}]}},"/v3/documents/{id}/chunks":{"get":{"summary":"List document chunks","description":"Retrieves the text chunks that were generated from a document during ingestion.\nChunks represent semantic sections of the document and are used for retrieval\nand analysis.\n\nUsers can only access chunks from documents they own or have access to through\ncollections. Vector embeddings are only included if specifically requested.\n\nResults are returned in chunk sequence order, representing their position in\nthe original document.","operationId":"list_chunks_v3_documents__id__chunks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"The ID of the document to retrieve chunks for.","title":"Id"},"description":"The ID of the document to retrieve chunks for."},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":null}],"description":"The offset of the first chunk to retrieve.","default":0,"title":"Offset"},"description":"The offset of the first chunk to retrieve."},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":20000,"minimum":0},{"type":null}],"description":"The maximum number of chunks to retrieve, up to 20,000.","default":100,"title":"Limit"},"description":"The maximum number of chunks to retrieve, up to 20,000."},{"name":"include_vectors","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":null}],"description":"Whether to include vector embeddings in the response.","default":false,"title":"Include Vectors"},"description":"Whether to include vector embeddings in the response."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_list_ChunkResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.list_chunks(\n  id=\"9fbe403b-c11c-5aae-8ade-ef22980c3ad1\"\n)"},{"lang":"cURL","source":"\ncurl -X GET \"https://api.example.com/v3/documents/9fbe403b-c11c-5aae-8ade-ef22980c3ad1/chunks\"                                                                 -H \"Authorization: Bearer YOUR_API_KEY\" "}]}},"/v3/documents/{id}/download":{"get":{"summary":"Download document content","description":"Downloads the original file content of a document.\n\nFor uploaded files, returns the original file with its proper MIME type.\nFor text-only documents, returns the content as plain text.\n\nUsers can only download documents they own or have access to through collections.","operationId":"get_document_file_v3_documents__id__download_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","description":"Document ID","title":"Id"},"description":"Document ID"}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.download(\n  id=\"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\"\n)"},{"lang":"cURL","source":"\ncurl -X GET \"https://api.example.com/v3/documents/b4ac4dd6-5f27-596e-a55b-7cf242ca30aa/download\"                                                             -H \"Authorization: Bearer YOUR_API_KEY\" "}]}},"/v3/documents/by-filter":{"delete":{"summary":"Delete documents by filter","description":"Delete documents based on provided filters. Allowed operators include `eq`, `neq`, `gt`, `gte`, `lt`, `lte`, `like`, `ilike`, `in`, and `nin`. Deletion requests are limited to a user's own documents.","operationId":"delete_document_by_filter_v3_documents_by_filter_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"filters","in":"query","required":true,"schema":{"type":"string","description":"JSON-encoded filters","title":"Filters"},"description":"JSON-encoded filters"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/documents/{id}/collections":{"get":{"summary":"List document collections","description":"Retrieves all collections that contain the specified document. This endpoint is restricted\nto superusers only and provides a system-wide view of document organization.\n\nCollections are used to organize documents and manage access control. A document can belong\nto multiple collections, and users can access documents through collection membership.\n\nThe results are paginated and ordered by collection creation date, with the most recently\ncreated collections appearing first.","operationId":"get_document_collections_v3_documents__id__collections_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","description":"Document ID","title":"Id"},"description":"Document ID"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"The offset of the first collection to retrieve.","default":0,"title":"Offset"},"description":"The offset of the first collection to retrieve."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"The maximum number of collections to retrieve, up to 1,000.","default":100,"title":"Limit"},"description":"The maximum number of collections to retrieve, up to 1,000."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/shared__api__models__base__ResultsWrapper_list_CollectionResponse____1"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.documents.list_collections(\n  id=\"9fbe403b-c11c-5aae-8ade-ef22980c3ad1\", offset=0, limit=10\n)"},{"lang":"cURL","source":"\ncurl -X GET \"https://api.example.com/v3/documents/9fbe403b-c11c-5aae-8ade-ef22980c3ad1/collections\"                                                             -H \"Authorization: Bearer YOUR_API_KEY\" "}]}},"/v3/chunks":{"post":{"summary":"Create Chunks","operationId":"create_chunks_v3_chunks_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_create_chunks_v3_chunks_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_list_ChunkIngestionResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.chunks.create(\n    chunks=[\n        {\n            \"id\": \"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\",\n            \"document_id\": \"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\",\n            \"collection_ids\": [\"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\"],\n            \"metadata\": {\"key\": \"value\"},\n            \"text\": \"Some text content\"\n        }\n    ],\n    run_with_orchestration=False\n)\n"},{"lang":"cURL","source":"\ncurl -X POST \"https://api.example.com/v3/chunks\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -d '{\n       \"chunks\": [{\n         \"id\": \"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\",\n         \"document_id\": \"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\",\n         \"collection_ids\": [\"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\"],\n         \"metadata\": {\"key\": \"value\"},\n         \"text\": \"Some text content\"\n       }],\n       \"run_with_orchestration\": false\n     }'\n"}]},"get":{"summary":"List Chunks","description":"List chunks with pagination support.\n\nReturns a paginated list of chunks that the user has access to.\nResults can be filtered and sorted based on various parameters.\nVector embeddings are only included if specifically requested.\n\nRegular users can only list chunks they own or have access to through\ncollections. Superusers can list all chunks in the system.","operationId":"list_chunks_v3_chunks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip","default":0,"title":"Offset"},"description":"Number of records to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of records to return","default":10,"title":"Limit"},"description":"Maximum number of records to return"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Field to sort by","default":"created_at","title":"Sort By"},"description":"Field to sort by"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","pattern":"^(ASC|DESC)$","description":"Sort order","default":"DESC","title":"Sort Order"},"description":"Sort order"},{"name":"metadata_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"object"}},{"type":null}],"description":"Filter by metadata","title":"Metadata Filter"},"description":"Filter by metadata"},{"name":"include_vectors","in":"query","required":false,"schema":{"type":"boolean","description":"Include vector data in response","default":false,"title":"Include Vectors"},"description":"Include vector data in response"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_list_ChunkResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\nresults = client.chunks.list(\n    offset=0,\n    limit=10,\n    sort_by=\"created_at\",\n    sort_order=\"DESC\",\n    metadata_filter={\"key\": \"value\"},\n    include_vectors=False\n)\n"}]}},"/v3/chunks/search":{"post":{"summary":"Search Chunks","description":"Perform a semantic search query over all stored chunks.\n\nThis endpoint allows for complex filtering of search results using PostgreSQL-based queries.\nFilters can be applied to various fields such as document_id, and internal metadata values.\n\nAllowed operators include `eq`, `neq`, `gt`, `gte`, `lt`, `lte`, `like`, `ilike`, `in`, and `nin`.","operationId":"search_chunks_v3_chunks_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_search_chunks_v3_chunks_search_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_list_VectorSearchResult__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}],"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\nresults = client.chunks.search(\n    query=\"search query\",\n    vector_search_settings={\n        \"limit\": 10,\n        \"min_score\": 0.7\n    }\n)\n"}]}},"/v3/chunks/{id}":{"get":{"summary":"Retrieve Chunk","description":"Get a specific chunk by its ID.\n\nReturns the chunk's content, metadata, and associated document/collection information.\nUsers can only retrieve chunks they own or have access to through collections.","operationId":"retrieve_chunk_v3_chunks__id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_ChunkResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\nchunk = client.chunks.retrieve(id=\"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\")\n"}]},"post":{"summary":"Update Chunk","description":"Update an existing chunk's content and/or metadata.\n\nThe chunk's vectors will be automatically recomputed based on the new content.\nUsers can only update chunks they own unless they are superusers.","operationId":"update_chunk_v3_chunks__id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChunk"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_ChunkResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\nresult = client.chunks.update(\n    id=\"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\",\n    text=\"Updated content\",\n    metadata={\"key\": \"new value\"}\n)\n"}]},"delete":{"summary":"Delete Chunk","description":"Delete a specific chunk by ID.\n\nThis permanently removes the chunk and its associated vector embeddings.\nThe parent document remains unchanged. Users can only delete chunks they\nown unless they are superusers.","operationId":"delete_chunk_v3_chunks__id__delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_ChunkResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\nresult = client.chunks.delete(\n    id=\"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\"\n)\n"}]}},"/v3/chunks/{id}/enrich":{"post":{"summary":"Enrich Chunk","description":"Enrich a chunk with additional processing and metadata.\n\nThis endpoint allows adding additional enrichments to an existing chunk,\nsuch as entity extraction, classification, or custom processing defined\nin the enrichment_config.\n\nUsers can only enrich chunks they own unless they are superusers.","operationId":"enrich_chunk_v3_chunks__id__enrich_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Enrichment Config"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_ChunkResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\nresult = client.chunks.enrich(\n    id=\"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa\",\n    enrichment_config={\"key\": \"value\"}\n)\n"}]}},"/v3/indices":{"post":{"summary":"Create Vector Index","description":"Create a new vector similarity search index in the database.\n\nThis endpoint creates a database index optimized for efficient similarity search over vector embeddings.\nIt supports two main indexing methods:\n\n1. HNSW (Hierarchical Navigable Small World):\n   - Best for: High-dimensional vectors requiring fast approximate nearest neighbor search\n   - Pros: Very fast search, good recall, memory-resident for speed\n   - Cons: Slower index construction, more memory usage\n   - Key parameters:\n     * m: Number of connections per layer (higher = better recall but more memory)\n     * ef_construction: Build-time search width (higher = better recall but slower build)\n     * ef: Query-time search width (higher = better recall but slower search)\n\n2. IVF-Flat (Inverted File with Flat Storage):\n   - Best for: Balance between build speed, search speed, and recall\n   - Pros: Faster index construction, less memory usage\n   - Cons: Slightly slower search than HNSW\n   - Key parameters:\n     * lists: Number of clusters (usually sqrt(n) where n is number of vectors)\n     * probe: Number of nearest clusters to search\n\nSupported similarity measures:\n- cosine_distance: Best for comparing semantic similarity\n- l2_distance: Best for comparing absolute distances\n- ip_distance: Best for comparing raw dot products\n\nNotes:\n- Index creation can be resource-intensive for large datasets\n- Use run_with_orchestration=True for large indices to prevent timeouts\n- The 'concurrently' option allows other operations while building\n- Index names must be unique per table","operationId":"create_index_v3_indices_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_create_index_v3_indices_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_CreateVectorIndexResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\n# Create an HNSW index for efficient similarity search\nresult = client.indices.create(\n    config={\n        \"table_name\": \"vectors\",  # The table containing vector embeddings\n        \"index_method\": \"hnsw\",   # Hierarchical Navigable Small World graph\n        \"index_measure\": \"cosine_distance\",  # Similarity measure\n        \"index_arguments\": {\n            \"m\": 16,              # Number of connections per layer\n            \"ef_construction\": 64,# Size of dynamic candidate list for construction\n            \"ef\": 40,            # Size of dynamic candidate list for search\n        },\n        \"index_name\": \"my_document_embeddings_idx\",\n        \"index_column\": \"embedding\",\n        \"concurrently\": True     # Build index without blocking table writes\n    },\n    run_with_orchestration=True  # Run as orchestrated task for large indices\n)\n\n# Create an IVF-Flat index for balanced performance\nresult = client.indices.create(\n    config={\n        \"table_name\": \"vectors\",\n        \"index_method\": \"ivf_flat\", # Inverted File with Flat storage\n        \"index_measure\": \"l2_distance\",\n        \"index_arguments\": {\n            \"lists\": 100,         # Number of cluster centroids\n            \"probe\": 10,          # Number of clusters to search\n        },\n        \"index_name\": \"my_ivf_embeddings_idx\",\n        \"index_column\": \"embedding\",\n        \"concurrently\": True\n    }\n)"},{"lang":"Shell","source":"\n# Create HNSW Index\ncurl -X POST \"https://api.example.com/indices\" \\\n    -H \"Content-Type: application/json\" \\\n    -H \"Authorization: Bearer YOUR_API_KEY\" \\\n    -d '{\n    \"config\": {\n        \"table_name\": \"vectors\",\n        \"index_method\": \"hnsw\",\n        \"index_measure\": \"cosine_distance\",\n        \"index_arguments\": {\n        \"m\": 16,\n        \"ef_construction\": 64,\n        \"ef\": 40\n        },\n        \"index_name\": \"my_document_embeddings_idx\",\n        \"index_column\": \"embedding\",\n        \"concurrently\": true\n    },\n    \"run_with_orchestration\": true\n    }'\n\n# Create IVF-Flat Index\ncurl -X POST \"https://api.example.com/indices\" \\\n    -H \"Content-Type: application/json\" \\\n    -H \"Authorization: Bearer YOUR_API_KEY\" \\\n    -d '{\n    \"config\": {\n        \"table_name\": \"vectors\",\n        \"index_method\": \"ivf_flat\",\n        \"index_measure\": \"l2_distance\",\n        \"index_arguments\": {\n        \"lists\": 100,\n        \"probe\": 10\n        },\n        \"index_name\": \"my_ivf_embeddings_idx\",\n        \"index_column\": \"embedding\",\n        \"concurrently\": true\n    }\n    }'"}]},"get":{"summary":"List Vector Indices","description":"List existing vector similarity search indices with pagination support.\n\nReturns details about each index including:\n- Name and table name\n- Indexing method and parameters\n- Size and row count\n- Creation timestamp and last updated\n- Performance statistics (if available)\n\nThe response can be filtered using the filter_by parameter to narrow down results\nbased on table name, index method, or other attributes.","operationId":"list_indices_v3_indices_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip","default":0,"title":"Offset"},"description":"Number of records to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of records to return","default":10,"title":"Limit"},"description":"Maximum number of records to return"},{"name":"filter_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"object"}},{"type":null}],"description":"Filter criteria for indices (e.g., {\"table_name\": \"vectors\"})","title":"Filter By"},"description":"Filter criteria for indices (e.g., {\"table_name\": \"vectors\"})"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_ListVectorIndicesResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n\n# List all indices\nindices = client.indices.list(\n    offset=0,\n    limit=10,\n    filter_by={\"table_name\": \"vectors\"}\n)\n\n# Print index details\nfor idx in indices:\n    print(f\"Index: {idx['name']}\")\n    print(f\"Method: {idx['method']}\")\n    print(f\"Size: {idx['size_bytes'] / 1024 / 1024:.2f} MB\")\n    print(f\"Row count: {idx['row_count']}\")"},{"lang":"Shell","source":"\ncurl -X GET \"https://api.example.com/indices?offset=0&limit=10\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -H \"Content-Type: application/json\"\n     \n# With filters\ncurl -X GET \"https://api.example.com/indices?offset=0&limit=10&filter_by={\"table_name\":\"vectors\"}\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -H \"Content-Type: application/json\"\n"}]}},"/v3/indices/{id}":{"get":{"summary":"Get Vector Index Details","description":"Get detailed information about a specific vector index.\n\nReturns comprehensive information about the index including:\n- Configuration details (method, measure, parameters)\n- Current size and row count\n- Build progress (if still under construction)\n- Performance statistics:\n    * Average query time\n    * Memory usage\n    * Cache hit rates\n    * Recent query patterns\n- Maintenance information:\n    * Last vacuum\n    * Fragmentation level\n    * Recommended optimizations","operationId":"get_index_v3_indices__id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n\n# Get detailed information about a specific index\nindex = client.indices.get(\"550e8400-e29b-41d4-a716-446655440000\")\n\n# Access index details\nprint(f\"Index Method: {index['method']}\")\nprint(f\"Parameters: {index['parameters']}\")\nprint(f\"Performance Stats: {index['stats']}\")"},{"lang":"Shell","source":"\ncurl -X GET \"https://api.example.com/indices/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\"\n"}]},"put":{"summary":"Update Vector Index","description":"Update an existing index's configuration.","operationId":"update_index_v3_indices__id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_index_v3_indices__id__put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n\n# Update HNSW index parameters\nresult = client.indices.update(\n    \"550e8400-e29b-41d4-a716-446655440000\",\n    config={\n        \"index_arguments\": {\n            \"ef\": 80,  # Increase search quality\n            \"m\": 24    # Increase connections per layer\n        },\n        \"concurrently\": True\n    },\n    run_with_orchestration=True\n)"},{"lang":"Shell","source":"\ncurl -X PUT \"https://api.example.com/indices/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -d '{\n       \"config\": {\n         \"index_arguments\": {\n           \"ef\": 80,\n           \"m\": 24\n         },\n         \"concurrently\": true\n       },\n       \"run_with_orchestration\": true\n     }'"}]},"delete":{"summary":"Delete Vector Index","description":"Delete an existing vector similarity search index.\n\nThis endpoint removes the specified index from the database. Important considerations:\n\n- Deletion is permanent and cannot be undone\n- Underlying vector data remains intact\n- Queries will fall back to sequential scan\n- Running queries during deletion may be slower\n- Use run_with_orchestration=True for large indices to prevent timeouts\n- Consider index dependencies before deletion\n\nThe operation returns immediately but cleanup may continue in background\nwhen run_with_orchestration=True.","operationId":"delete_index_v3_indices__id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"boolean"},{"type":null}],"default":true,"title":"Run With Orchestration"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_DeleteVectorIndexResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n\n# Delete an index with orchestration for cleanup\nresult = client.indices.delete(\n    \"550e8400-e29b-41d4-a716-446655440000\",\n    run_with_orchestration=True\n)"},{"lang":"Shell","source":"\ncurl -X DELETE \"https://api.example.com/indices/550e8400-e29b-41d4-a716-446655440000\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -d '{\n       \"run_with_orchestration\": true\n     }'"}]}},"/v3/users":{"get":{"summary":"List Users","description":"List all users with pagination and filtering options.\nOnly accessible by superusers.","operationId":"list_users_v3_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"username","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Username"}},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Email"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Is Active"}},{"name":"is_superuser","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Is Superuser"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"default":"desc","title":"Sort Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_List_UserOverviewResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/users/{user_id}":{"get":{"summary":"Get User","description":"Get detailed information about a specific user.\nUsers can only access their own information unless they are superusers.","operationId":"get_user_v3_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_UserResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Update User","description":"Update user information.\nUsers can only update their own information unless they are superusers.\nSuperuser status can only be modified by existing superusers.","operationId":"update_user_v3_users__user_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_user_v3_users__user_id__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_UserResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/users/{user_id}/collections":{"get":{"summary":"Get User Collections","description":"Get all collections associated with a specific user.\nUsers can only access their own collections unless they are superusers.","operationId":"get_user_collections_v3_users__user_id__collections_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_List_UserCollectionResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/users/{user_id}/collections/{collection_id}":{"post":{"summary":"Add User To Collection","description":"Add a user to a collection.\nRequires either superuser status or access to the collection.","operationId":"add_user_to_collection_v3_users__user_id__collections__collection_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Collection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Remove User From Collection","description":"Remove a user from a collection.\nRequires either superuser status or access to the collection.","operationId":"remove_user_from_collection_v3_users__user_id__collections__collection_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Collection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/collections":{"post":{"summary":"Create Collection","description":"Create a new collection and automatically add the creating user to it.","operationId":"create_collection_v3_collections_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionConfig"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_CollectionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"List Collections","description":"List collections the user has access to with pagination and filtering options.","operationId":"list_collections_v3_collections_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Name"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"default":"desc","title":"Sort Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/shared__api__models__base__ResultsWrapper_list_CollectionResponse____2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/collections/{id}":{"get":{"summary":"Get Collection","description":"Get details of a specific collection.","operationId":"get_collection_v3_collections__id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_CollectionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Update Collection","description":"Update an existing collection's configuration.","operationId":"update_collection_v3_collections__id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionConfig"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_CollectionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Collection","description":"Delete an existing collection.","operationId":"delete_collection_v3_collections__id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/collections/{id}/documents":{"get":{"summary":"Get Collection Documents","description":"Get all documents in a collection with pagination and sorting options.","operationId":"get_collection_documents_v3_collections__id__documents_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"default":"desc","title":"Sort Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_list_DocumentOverviewResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/collections/{id}/documents/{document_id}":{"post":{"summary":"Add Document To Collection","description":"Add a document to a collection.","operationId":"add_document_to_collection_v3_collections__id__documents__document_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Remove Document From Collection","description":"Remove a document from a collection.","operationId":"remove_document_from_collection_v3_collections__id__documents__document_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/collections/{id}/users":{"get":{"summary":"Get Collection Users","description":"Get all users in a collection with pagination and sorting options.","operationId":"get_collection_users_v3_collections__id__users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"default":"desc","title":"Sort Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_list_UserResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/collections/{id}/users/{user_id}":{"post":{"summary":"Add User To Collection","description":"Add a user to a collection.","operationId":"add_user_to_collection_v3_collections__id__users__user_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Remove User From Collection","description":"Remove a user from a collection.","operationId":"remove_user_from_collection_v3_collections__id__users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/conversations":{"post":{"summary":"Create Conversation","description":"Create a new conversation.","operationId":"create_conversation_v3_conversations_post","security":[{"HTTPBearer":[]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_list_Tuple_str__Message___"}}}}}},"get":{"summary":"List Conversations","description":"List conversations with pagination and sorting options.","operationId":"list_conversations_v3_conversations_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"default":"desc","title":"Sort Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResultsWrapper_list_ConversationOverviewResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/conversations/{id}":{"get":{"summary":"Get Conversation","description":"Get details of a specific conversation.","operationId":"get_conversation_v3_conversations__id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"title":"Branch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_list_Tuple_str__Message___"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Conversation","description":"Delete an existing conversation.","operationId":"delete_conversation_v3_conversations__id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/conversations/{id}/messages":{"post":{"summary":"Add Message","description":"Add a new message to a conversation.","operationId":"add_message_v3_conversations__id__messages_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageContent"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Add Message V3 Conversations  Id  Messages Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/conversations/{id}/messages/{message_id}":{"put":{"summary":"Update Message","description":"Update an existing message in a conversation.","operationId":"update_message_v3_conversations__id__messages__message_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"string","title":"Content"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Update Message V3 Conversations  Id  Messages  Message Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/conversations/{id}/branches":{"get":{"summary":"List Branches","description":"List all branches in a conversation.","operationId":"list_branches_v3_conversations__id__branches_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response List Branches V3 Conversations  Id  Branches Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/prompts":{"get":{"summary":"List Prompts","description":"List all available prompts.","operationId":"list_prompts_v3_prompts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_AllPromptsResponse_"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"summary":"Create Prompt","description":"Create a new prompt with the given configuration.","operationId":"create_prompt_v3_prompts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_UpdatePromptResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/v3/prompts/{name}":{"get":{"summary":"Get Prompt","description":"Get a specific prompt by name, optionally with inputs and override.","operationId":"get_prompt_v3_prompts__name__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","description":"Prompt name","title":"Name"},"description":"Prompt name"},{"name":"inputs","in":"query","required":false,"schema":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"object"}},{"type":null}],"description":"JSON-encoded prompt inputs","title":"Inputs"},"description":"JSON-encoded prompt inputs"},{"name":"prompt_override","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":null}],"description":"Prompt override","title":"Prompt Override"},"description":"Prompt override"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_UpdatePromptResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Prompt","description":"Update an existing prompt's template and/or input types.","operationId":"update_prompt_v3_prompts__name__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","description":"Prompt name","title":"Name"},"description":"Prompt name"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_prompt_v3_prompts__name__put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_UpdatePromptResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Prompt","description":"Delete a prompt by name.","operationId":"delete_prompt_v3_prompts__name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","description":"Prompt name","title":"Name"},"description":"Prompt name"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_NoneType_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/retrieval/search":{"post":{"summary":"Search R2R","description":"Perform a search query on the vector database and knowledge graph and any other configured search engines.\n\nThis endpoint allows for complex filtering of search results using PostgreSQL-based queries.\nFilters can be applied to various fields such as document_id, and internal metadata values.\n\nAllowed operators include `eq`, `neq`, `gt`, `gte`, `lt`, `lte`, `like`, `ilike`, `in`, and `nin`.","operationId":"search_app_v3_retrieval_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_search_app_v3_retrieval_search_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_CombinedSearchResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}],"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.search(\n    query=\"Who is Aristotle?\",\n    vector_search_settings={\n        \"use_vector_search\": True,\n        \"filters\": {\"document_id\": {\"$eq\": \"3e157b3a-8469-51db-90d9-52e7d896b49b\"}},\n        \"search_limit\": 20,\n        \"use_hybrid_search\": True\n    },\n    kg_search_settings={\n        \"use_kg_search\": True,\n        \"kg_search_type\": \"local\",\n        \"kg_search_level\": \"0\",\n        \"generation_config\": {\n            \"model\": \"gpt-4o-mini\",\n            \"temperature\": 0.7,\n        },\n        \"local_search_limits\": {\n            \"__Entity__\": 20,\n            \"__Relationship__\": 20,\n            \"__Community__\": 20,\n        },\n        \"max_community_description_length\": 65536,\n        \"max_llm_queries_for_global_search\": 250\n    }\n)"},{"lang":"Shell","source":"\ncurl -X POST \"https://api.example.com/retrieval/search\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -d '{\n       \"query\": \"Who is Aristotle?\",\n       \"vector_search_settings\": {\n         \"use_vector_search\": true,\n         \"filters\": {\"document_id\": {\"$eq\": \"3e157b3a-8469-51db-90d9-52e7d896b49b\"}},\n         \"search_limit\": 20,\n         \"use_hybrid_search\": true\n       },\n       \"kg_search_settings\": {\n         \"use_kg_search\": true,\n         \"kg_search_type\": \"local\",\n         \"kg_search_level\": \"0\",\n         \"generation_config\": {\n             \"model\": \"gpt-4o-mini\",\n             \"temperature\": 0.7\n         },\n         \"local_search_limits\": {\n             \"__Entity__\": 20,\n             \"__Relationship__\": 20,\n             \"__Community__\": 20\n         },\n         \"max_community_description_length\": 65536,\n         \"max_llm_queries_for_global_search\": 250\n       }\n     }'"}]}},"/v3/retrieval/rag":{"post":{"summary":"RAG Query","description":"Execute a RAG (Retrieval-Augmented Generation) query.\n\nThis endpoint combines search results with language model generation.\nIt supports the same filtering capabilities as the search endpoint,\nallowing for precise control over the retrieved context.\n\nThe generation process can be customized using the `rag_generation_config` parameter.","operationId":"rag_app_v3_retrieval_rag_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_rag_app_v3_retrieval_rag_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_RAGResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}],"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.rag(\n    query=\"Who is Aristotle?\",\n    vector_search_settings={\n        \"use_vector_search\": True,\n        \"filters\": {\"document_id\": {\"$eq\": \"3e157b3a-8469-51db-90d9-52e7d896b49b\"}},\n        \"search_limit\": 20,\n        \"use_hybrid_search\": True\n    },\n    kg_search_settings={\n        \"use_kg_search\": True,\n        \"kg_search_type\": \"local\",\n        \"kg_search_level\": \"0\",\n        \"generation_config\": {\n            \"model\": \"gpt-4o-mini\",\n            \"temperature\": 0.7,\n        }\n    },\n    rag_generation_config={\n        \"stream\": False,\n        \"temperature\": 0.7,\n        \"max_tokens\": 150\n    }\n)"},{"lang":"Shell","source":"\ncurl -X POST \"https://api.example.com/retrieval/rag\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -d '{\n       \"query\": \"Who is Aristotle?\",\n       \"vector_search_settings\": {\n         \"use_vector_search\": true,\n         \"filters\": {\"document_id\": {\"$eq\": \"3e157b3a-8469-51db-90d9-52e7d896b49b\"}},\n         \"search_limit\": 20,\n         \"use_hybrid_search\": true\n       },\n       \"kg_search_settings\": {\n         \"use_kg_search\": true,\n         \"kg_search_type\": \"local\",\n         \"kg_search_level\": \"0\",\n         \"generation_config\": {\n             \"model\": \"gpt-4o-mini\",\n             \"temperature\": 0.7\n         }\n       },\n       \"rag_generation_config\": {\n         \"stream\": false,\n         \"temperature\": 0.7,\n         \"max_tokens\": 150\n       }\n     }'"}]}},"/v3/retrieval/agent":{"post":{"summary":"RAG-powered Conversational Agent","description":"Engage with an intelligent RAG-powered conversational agent for complex information retrieval and analysis.\n\nThis advanced endpoint combines retrieval-augmented generation (RAG) with a conversational AI agent to provide\ndetailed, context-aware responses based on your document collection. The agent can:\n\n- Maintain conversation context across multiple interactions\n- Dynamically search and retrieve relevant information from both vector and knowledge graph sources\n- Break down complex queries into sub-questions for comprehensive answers\n- Cite sources and provide evidence-based responses\n- Handle follow-up questions and clarifications\n- Navigate complex topics with multi-step reasoning\n\nKey Features:\n- Hybrid search combining vector and knowledge graph approaches\n- Contextual conversation management with conversation_id tracking\n- Customizable generation parameters for response style and length\n- Source document citation with optional title inclusion\n- Streaming support for real-time responses\n- Branch management for exploring different conversation paths\n\nCommon Use Cases:\n- Research assistance and literature review\n- Document analysis and summarization\n- Technical support and troubleshooting\n- Educational Q&A and tutoring\n- Knowledge base exploration\n\nThe agent uses both vector search and knowledge graph capabilities to find and synthesize\ninformation, providing detailed, factual responses with proper attribution to source documents.","operationId":"agent_app_v3_retrieval_agent_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_agent_app_v3_retrieval_agent_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsWrapper_RAGAgentResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}],"x-codeSamples":[{"lang":"Python","source":"\n        from r2r import R2RClient\n\n        client = R2RClient(\"http://localhost:7272\")\n        # when using auth, do client.login(...)\n\n        result = client.agent(\n            message={\n                \"role\": \"user\", \n                \"content\": \"What were the key contributions of Aristotle to logic and how did they influence later philosophers?\"\n            },\n            vector_search_settings={\n                \"use_vector_search\": True,\n                \"filters\": {\"collection_ids\": [\"5e157b3a-8469-51db-90d9-52e7d896b49b\"]},\n                \"search_limit\": 20,\n                \"use_hybrid_search\": True\n            },\n            kg_search_settings={\n                \"use_kg_search\": True,\n                \"kg_search_type\": \"local\",\n                \"kg_search_level\": \"1\"\n            },\n            rag_generation_config={\n                \"stream\": False,\n                \"temperature\": 0.7,\n                \"max_tokens\": 1000\n            },\n            include_title_if_available=True,\n            conversation_id=\"550e8400-e29b-41d4-a716-446655440000\"  # Optional for conversation continuity\n        )"},{"lang":"Shell","source":"\n        curl -X POST \"https://api.example.com/retrieval/agent\" \\\n            -H \"Content-Type: application/json\" \\\n            -H \"Authorization: Bearer YOUR_API_KEY\" \\\n            -d '{\n            \"message\": {\n                \"role\": \"user\",\n                \"content\": \"What were the key contributions of Aristotle to logic and how did they influence later philosophers?\"\n            },\n            \"vector_search_settings\": {\n                \"use_vector_search\": true,\n                \"filters\": {\"collection_ids\": [\"5e157b3a-8469-51db-90d9-52e7d896b49b\"]},\n                \"search_limit\": 20,\n                \"use_hybrid_search\": true\n            },\n            \"kg_search_settings\": {\n                \"use_kg_search\": true,\n                \"kg_search_type\": \"local\",\n                \"kg_search_level\": \"1\"\n            },\n            \"rag_generation_config\": {\n                \"stream\": false,\n                \"temperature\": 0.7,\n                \"max_tokens\": 1000\n            },\n            \"include_title_if_available\": true,\n            \"conversation_id\": \"550e8400-e29b-41d4-a716-446655440000\"\n            }'"}]}},"/v3/retrieval/completion":{"post":{"summary":"Generate Message Completions","description":"Generate completions for a list of messages.\n\nThis endpoint uses the language model to generate completions for the provided messages.\nThe generation process can be customized using the generation_config parameter.\n\nThe messages list should contain alternating user and assistant messages, with an optional\nsystem message at the start. Each message should have a 'role' and 'content'.","operationId":"completion_v3_retrieval_completion_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"response_model","in":"query","required":false,"schema":{"title":"Response Model"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_completion_v3_retrieval_completion_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"Python","source":"\nfrom r2r import R2RClient\n\nclient = R2RClient(\"http://localhost:7272\")\n# when using auth, do client.login(...)\n\nresult = client.completion(\n    messages=[\n        {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n        {\"role\": \"user\", \"content\": \"What is the capital of France?\"},\n        {\"role\": \"assistant\", \"content\": \"The capital of France is Paris.\"},\n        {\"role\": \"user\", \"content\": \"What about Italy?\"}\n    ],\n    generation_config={\n        \"model\": \"gpt-4o-mini\",\n        \"temperature\": 0.7,\n        \"max_tokens\": 150,\n        \"stream\": False\n    }\n)"},{"lang":"Shell","source":"\ncurl -X POST \"https://api.example.com/retrieval/completion\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     -d '{\n       \"messages\": [\n         {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n         {\"role\": \"user\", \"content\": \"What is the capital of France?\"},\n         {\"role\": \"assistant\", \"content\": \"The capital of France is Paris.\"},\n         {\"role\": \"user\", \"content\": \"What about Italy?\"}\n       ],\n       \"generation_config\": {\n         \"model\": \"gpt-4o-mini\",\n         \"temperature\": 0.7,\n         \"max_tokens\": 150,\n         \"stream\": false\n       }\n     }'"}]}}},"components":{"schemas":{"AllPromptsResponse":{"properties":{"prompts":{"additionalProperties":{"$ref":"#/components/schemas/PromptResponse"},"type":"object","title":"Prompts"}},"type":"object","required":["prompts"],"title":"AllPromptsResponse"},"BaseModel":{"properties":{},"type":"object","title":"BaseModel"},"Body_agent_app_v3_retrieval_agent_post":{"properties":{"message":{"anyOf":[{"$ref":"#/components/schemas/Message"},{"type":null}],"description":"Current message to process"},"messages":{"anyOf":[{"items":{"$ref":"#/components/schemas/Message"},"type":"array"},{"type":null}],"title":"Messages","description":"List of messages (deprecated, use message instead)","deprecated":true},"vector_search_settings":{"$ref":"#/components/schemas/VectorSearchSettings","description":"Settings for vector-based search"},"kg_search_settings":{"$ref":"#/components/schemas/KGSearchSettings","description":"Settings for knowledge graph search"},"rag_generation_config":{"$ref":"#/components/schemas/GenerationConfig","description":"Configuration for RAG generation"},"task_prompt_override":{"anyOf":[{"type":"string"},{"type":null}],"title":"Task Prompt Override","description":"Optional custom prompt to override default"},"include_title_if_available":{"type":"boolean","title":"Include Title If Available","description":"Include document titles in responses when available","default":true},"conversation_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":null}],"title":"Conversation Id","description":"ID of the conversation"},"branch_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":null}],"title":"Branch Id","description":"ID of the conversation branch"}},"type":"object","title":"Body_agent_app_v3_retrieval_agent_post"},"Body_completion_v3_retrieval_completion_post":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Messages","description":"List of messages to generate completion for"},"generation_config":{"$ref":"#/components/schemas/GenerationConfig","description":"Configuration for text generation"}},"type":"object","required":["messages"],"title":"Body_completion_v3_retrieval_completion_post"},"Body_create_chunks_v3_chunks_post":{"properties":{"raw_chunks":{"items":{"$ref":"#/components/schemas/UnprocessedChunk"},"type":"array","title":"Raw Chunks","description":"List of chunks to create"},"run_with_orchestration":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Run With Orchestration","default":true}},"type":"object","required":["raw_chunks"],"title":"Body_create_chunks_v3_chunks_post"},"Body_create_document_v3_documents_post":{"properties":{"file":{"anyOf":[{"type":"string","format":"binary"},{"type":null}],"title":"File","description":"The file to ingest. Either a file or content must be provided, but not both."},"content":{"anyOf":[{"type":"string"},{"type":null}],"title":"Content","description":"The text content to ingest. Either a file or content must be provided, but not both."},"id":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"string","format":"uuid"}},{"type":null}],"title":"Id","description":"The ID of the document. If not provided, a new ID will be generated."},"metadata":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"object"}},{"type":null}],"title":"Metadata","description":"Metadata to associate with the document, such as title, description, or custom fields."},"ingestion_config":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"object"}},{"type":null}],"title":"Ingestion Config","description":"An optional dictionary to override the default chunking configuration for the ingestion process. If not provided, the system will use the default server-side chunking configuration."},"run_with_orchestration":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Run With Orchestration","description":"Whether or not ingestion runs with orchestration, default is `True`. When set to `False`, the ingestion process will run synchronous and directly return the result.","default":true}},"type":"object","title":"Body_create_document_v3_documents_post"},"Body_create_index_v3_indices_post":{"properties":{"config":{"$ref":"#/components/schemas/IndexConfig","description":"Configuration for the vector index"},"run_with_orchestration":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Run With Orchestration","description":"Whether to run index creation as an orchestrated task (recommended for large indices)","default":true}},"type":"object","required":["config"],"title":"Body_create_index_v3_indices_post"},"Body_rag_app_v3_retrieval_rag_post":{"properties":{"query":{"type":"string","title":"Query"},"vector_search_settings":{"$ref":"#/components/schemas/VectorSearchSettings","description":"Settings for vector-based search"},"kg_search_settings":{"$ref":"#/components/schemas/KGSearchSettings","description":"Settings for knowledge graph search"},"rag_generation_config":{"$ref":"#/components/schemas/GenerationConfig","description":"Configuration for RAG generation"},"task_prompt_override":{"anyOf":[{"type":"string"},{"type":null}],"title":"Task Prompt Override","description":"Optional custom prompt to override default"},"include_title_if_available":{"type":"boolean","title":"Include Title If Available","description":"Include document titles in responses when available","default":false}},"type":"object","required":["query"],"title":"Body_rag_app_v3_retrieval_rag_post"},"Body_search_app_v3_retrieval_search_post":{"properties":{"query":{"type":"string","title":"Query","description":"Search query to find relevant documents"},"vector_search_settings":{"$ref":"#/components/schemas/VectorSearchSettings","description":"Settings for vector-based search"},"kg_search_settings":{"$ref":"#/components/schemas/KGSearchSettings","description":"Settings for knowledge graph search"}},"type":"object","required":["query"],"title":"Body_search_app_v3_retrieval_search_post"},"Body_search_chunks_v3_chunks_search_post":{"properties":{"query":{"type":"string","title":"Query"},"vector_search_settings":{"$ref":"#/components/schemas/VectorSearchSettings"}},"type":"object","required":["query"],"title":"Body_search_chunks_v3_chunks_search_post"},"Body_update_document_v3_documents__id__post":{"properties":{"file":{"anyOf":[{"type":"string","format":"binary"},{"type":null}],"title":"File","description":"The file to ingest. Either a file or content must be provided, but not both."},"content":{"anyOf":[{"type":"string"},{"type":null}],"title":"Content","description":"The text content to ingest. Either a file or content must be provided, but not both."},"metadata":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"object"}},{"type":null}],"title":"Metadata","description":"Metadata to associate with the document, such as title, description, or custom fields."},"ingestion_config":{"anyOf":[{"type":"string","contentMediaType":"application/json","contentSchema":{"type":"object"}},{"type":null}],"title":"Ingestion Config","description":"An optional dictionary to override the default chunking configuration for the ingestion process. If not provided, the system will use the default server-side chunking configuration."},"run_with_orchestration":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Run With Orchestration","description":"Whether or not ingestion runs with orchestration, default is `True`. When set to `False`, the ingestion process will run synchronous and directly return the result.","default":true}},"type":"object","title":"Body_update_document_v3_documents__id__post"},"Body_update_index_v3_indices__id__put":{"properties":{"config":{"$ref":"#/components/schemas/IndexConfig"},"run_with_orchestration":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Run With Orchestration","default":true}},"type":"object","required":["config"],"title":"Body_update_index_v3_indices__id__put"},"Body_update_prompt_v3_prompts__name__put":{"properties":{"template":{"anyOf":[{"type":"string"},{"type":null}],"title":"Template","description":"Updated prompt template"},"input_types":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":null}],"title":"Input Types","description":"Updated input types","default":{}}},"type":"object","title":"Body_update_prompt_v3_prompts__name__put"},"Body_update_user_v3_users__user_id__post":{"properties":{"username":{"anyOf":[{"type":"string"},{"type":null}],"title":"Username"},"email":{"anyOf":[{"type":"string"},{"type":null}],"title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Is Active"},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":null}],"title":"Is Superuser"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"}},"type":"object","title":"Body_update_user_v3_users__user_id__post"},"ChunkIngestionResponse":{"properties":{"message":{"type":"string","title":"Message"},"document_id":{"type":"string","format":"uuid","title":"Document Id"},"task_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":null}],"title":"Task Id"}},"type":"object","required":["message","document_id"],"title":"ChunkIngestionResponse","description":"Response model for chunk ingestion","example":{"document_id":"9fbe403b-c11c-5aae-8ade-ef22980c3ad1","message":"Ingestion task completed successfully","task_id":"c68dc72e-fc23-5452-8f49-d7bd46088a96"}},"ChunkResponse":{"properties":{"document_id":{"type":"string","format":"uuid","title":"Document Id"},"id":{"type":"string","format":"uuid","title":"Id"},"collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Collection Ids"},"text":{"type":"string","title":"Text"},"metadata":{"type":"object","title":"Metadata"},"vector":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":null}],"title":"Vector"}},"type":"object","required":["document_id","id","collection_ids","text","metadata"],"title":"ChunkResponse","description":"Response model representing a chunk with its metadata and content.","example":{"collection_ids":["d09dedb1-b2ab-48a5-b950-6e1f464d83e7"],"document_id":"9fbe403b-c11c-5aae-8ade-ef22980c3ad1","id":"b4ac4dd6-5f27-596e-a55b-7cf242ca30aa","metadata":{"key":"value"},"text":"Sample chunk content","vector":[0.1,0.2,0.3]}},"CollectionConfig":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":null}],"title":"Description"}},"type":"object","required":["name"],"title":"CollectionConfig"},"CombinedSearchResponse":{"properties":{"vector_search_results":{"items":{"$ref":"#/components/schemas/VectorSearchResult"},"type":"array","title":"Vector Search Results","description":"List of vector search results"},"kg_search_results":{"anyOf":[{"items":{"$ref":"#/components/schemas/KGSearchResult"},"type":"array"},{"type":null}],"title":"Kg Search Results","description":"Knowledge graph search results, if applicable"}},"type":"object","required":["vector_search_results"],"title":"CombinedSearchResponse","example":{"kg_search_results":[{"content":{"description":"Entity Description","metadata":{},"name":"Entity Name"},"extraction_ids":["c68dc72e-fc23-5452-8f49-d7bd46088a96"],"metadata":{"associated_query":"What is the capital of France?"},"method":"local","result_type":"entity"}],"vector_search_results":[{"chunk_id":"3f3d47f3-8baf-58eb-8bc2-0171fb1c6e09","collection_ids":[],"document_id":"3e157b3a-8469-51db-90d9-52e7d896b49b","metadata":{"associated_query":"What is the capital of France?","title":"example_document.pdf"},"score":0.23943702876567796,"text":"Example text from the document","user_id":"2acb499e-8428-543b-bd85-0d9098718220"}]}},"ConversationOverviewResponse":{"properties":{"conversation_id":{"type":"string","format":"uuid","title":"Conversation Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["conversation_id","created_at"],"title":"ConversationOverviewResponse"},"CreateVectorIndexResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Vector index creation queued successfully."}},"type":"object","required":["message"],"title":"CreateVectorIndexResponse"},"DeleteVectorIndexResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"DeleteVectorIndexResponse"},"DocumentIngestionResponse":{"properties":{"message":{"type":"string","title":"Message","description":"A message describing the result of the ingestion request."},"task_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":null}],"title":"Task Id","description":"The task ID of the ingestion request."},"document_id":{"type":"string","format":"uuid","title":"Document Id","description":"The ID of the document that was ingested."}},"type":"object","required":["message","document_id"],"title":"DocumentIngestionResponse","example":{"document_id":"9fbe403b-c11c-5aae-8ade-ef22980c3ad1","message":"Ingestion task queued successfully.","task_id":"c68dc72e-fc23-5452-8f49-d7bd46088a96"}},"DocumentOverviewResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"document_type":{"type":"string","title":"Document Type"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"ingestion_status":{"type":"string","title":"Ingestion Status"},"kg_extraction_status":{"type":"string","title":"Kg Extraction Status"},"version":{"type":"string","title":"Version"},"collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Collection Ids"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["id","title","user_id","document_type","created_at","updated_at","ingestion_status","kg_extraction_status","version","collection_ids","metadata"],"title":"DocumentOverviewResponse"},"DocumentResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"document_type":{"type":"string","title":"Document Type"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"ingestion_status":{"type":"string","title":"Ingestion Status"},"kg_extraction_status":{"type":"string","title":"Kg Extraction Status"},"version":{"type":"string","title":"Version"},"collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Collection Ids"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["id","title","user_id","document_type","created_at","updated_at","ingestion_status","kg_extraction_status","version","collection_ids","metadata"],"title":"DocumentResponse","example":{"collection_ids":["d09dedb1-b2ab-48a5-b950-6e1f464d83e7"],"created_at":"2021-09-01T12:00:00Z","document_type":"text","id":"9fbe403b-c11c-5aae-8ade-ef22980c3ad1","ingestion_status":"success","kg_extraction_status":"success","metadata":{"key":"value"},"title":"My Document","updated_at":"2021-09-01T12:00:00Z","user_id":"3c10c8ff-4deb-43d8-a322-e92551ae1c96","version":"1"}},"EntityLevel":{"type":"string","enum":["collection","document","chunk"],"title":"EntityLevel"},"GenerationConfig":{"properties":{"model":{"type":"string","title":"Model"},"temperature":{"type":"number","title":"Temperature"},"top_p":{"type":"number","title":"Top P"},"max_tokens_to_sample":{"type":"integer","title":"Max Tokens To Sample"},"stream":{"type":"boolean","title":"Stream"},"functions":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":null}],"title":"Functions"},"tools":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":null}],"title":"Tools"},"add_generation_kwargs":{"anyOf":[{"type":"object"},{"type":null}],"title":"Add Generation Kwargs"},"api_base":{"anyOf":[{"type":"string"},{"type":null}],"title":"Api Base"},"response_format":{"anyOf":[{"type":"object"},{"$ref":"#/components/schemas/BaseModel"},{"type":null}],"title":"Response Format"}},"type":"object","title":"GenerationConfig","max_tokens_to_sample":1024,"model":"openai/gpt-4o","stream":false,"temperature":0.1,"top_p":1.0},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HybridSearchSettings":{"properties":{"full_text_weight":{"type":"number","title":"Full Text Weight","description":"Weight to apply to full text search","default":1.0},"semantic_weight":{"type":"number","title":"Semantic Weight","description":"Weight to apply to semantic search","default":5.0},"full_text_limit":{"type":"integer","title":"Full Text Limit","description":"Maximum number of results to return from full text search","default":200},"rrf_k":{"type":"integer","title":"Rrf K","description":"K-value for RRF (Rank Reciprocal Fusion)","default":50}},"type":"object","title":"HybridSearchSettings"},"IndexConfig":{"properties":{"table_name":{"anyOf":[{"type":"string"},{"type":null}],"title":"Table Name","default":"vectors"},"index_method":{"anyOf":[{"type":"string"},{"type":null}],"title":"Index Method","default":"hnsw"},"index_measure":{"anyOf":[{"type":"string"},{"type":null}],"title":"Index Measure","default":"cosine_distance"},"index_arguments":{"anyOf":[{"type":"object"},{"type":null}],"title":"Index Arguments"},"index_name":{"type":"string","title":"Index Name"},"index_column":{"anyOf":[{"type":"string"},{"type":null}],"title":"Index Column"},"concurrently":{"type":"boolean","title":"Concurrently","default":true}},"type":"object","title":"IndexConfig"},"IndexMeasure":{"type":"string","enum":["l2_distance","max_inner_product","cosine_distance","l1_distance","hamming_distance","jaccard_distance"],"title":"IndexMeasure","description":"An enum representing the types of distance measures available for indexing.\n\nAttributes:\n    cosine_distance (str): The cosine distance measure for indexing.\n    l2_distance (str): The Euclidean (L2) distance measure for indexing.\n    max_inner_product (str): The maximum inner product measure for indexing."},"KGCommunityResult":{"properties":{"name":{"type":"string","title":"Name"},"summary":{"type":"string","title":"Summary"},"rating":{"type":"number","title":"Rating"},"rating_explanation":{"type":"string","title":"Rating Explanation"},"findings":{"items":{"type":"string"},"type":"array","title":"Findings"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"}},"type":"object","required":["name","summary","rating","rating_explanation","findings"],"title":"KGCommunityResult","findings":["Finding 1","Finding 2"],"metadata":{},"name":"Community Name","rating":9,"rating_explanation":"Rating Explanation","summary":"Community Summary"},"KGEntityResult":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"}},"type":"object","required":["name","description"],"title":"KGEntityResult","description":"Entity Description","metadata":{},"name":"Entity Name"},"KGGlobalResult":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"}},"type":"object","required":["name","description"],"title":"KGGlobalResult","description":"Global Result Description","metadata":{},"name":"Global Result Name"},"KGRelationshipResult":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"}},"type":"object","required":["name","description"],"title":"KGRelationshipResult","description":"Relationship Description","metadata":{},"name":"Relationship Name"},"KGSearchMethod":{"type":"string","enum":["local"],"const":"local","title":"KGSearchMethod"},"KGSearchResult":{"properties":{"method":{"$ref":"#/components/schemas/KGSearchMethod"},"content":{"anyOf":[{"$ref":"#/components/schemas/KGEntityResult"},{"$ref":"#/components/schemas/KGRelationshipResult"},{"$ref":"#/components/schemas/KGCommunityResult"},{"$ref":"#/components/schemas/KGGlobalResult"}],"title":"Content"},"result_type":{"anyOf":[{"$ref":"#/components/schemas/KGSearchResultType"},{"type":null}]},"extraction_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":null}],"title":"Extraction Ids"},"metadata":{"type":"object","title":"Metadata","default":{}}},"type":"object","required":["method","content"],"title":"KGSearchResult","content":{"description":"Entity Description","metadata":{},"name":"Entity Name"},"extraction_ids":["c68dc72e-fc23-5452-8f49-d7bd46088a96"],"metadata":{"associated_query":"What is the capital of France?"},"method":"local","result_type":"entity"},"KGSearchResultType":{"type":"string","enum":["entity","relationship","community"],"title":"KGSearchResultType"},"KGSearchSettings":{"properties":{"entities_level":{"$ref":"#/components/schemas/EntityLevel","description":"The level of entities to search for","default":"document"},"filters":{"type":"object","title":"Filters","description":"Alias for search_filters","deprecated":true},"search_filters":{"type":"object","title":"Search Filters","description":"Filters to apply to the vector search. Allowed operators include `eq`, `neq`, `gt`, `gte`, `lt`, `lte`, `like`, `ilike`, `in`, and `nin`.\n\n      Commonly seen filters include operations include the following:\n\n        `{\"document_id\": {\"$eq\": \"9fbe403b-...\"}}`\n\n        `{\"document_id\": {\"$in\": [\"9fbe403b-...\", \"3e157b3a-...\"]}}`\n\n        `{\"collection_ids\": {\"$overlap\": [\"122fdf6a-...\", \"...\"]}}`\n\n        `{\"$and\": {\"$document_id\": ..., \"collection_ids\": ...}}`"},"selected_collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Selected Collection Ids","description":"Collection IDs to search for"},"graphrag_map_system":{"type":"string","title":"Graphrag Map System","description":"The system prompt for the graphrag map prompt.","default":"graphrag_map_system"},"graphrag_reduce_system":{"type":"string","title":"Graphrag Reduce System","description":"The system prompt for the graphrag reduce prompt.","default":"graphrag_reduce_system"},"use_kg_search":{"type":"boolean","title":"Use Kg Search","description":"Whether to use KG search","default":false},"kg_search_type":{"type":"string","title":"Kg Search Type","description":"KG search type","default":"local"},"kg_search_level":{"anyOf":[{"type":"string"},{"type":null}],"title":"Kg Search Level","description":"KG search level"},"generation_config":{"$ref":"#/components/schemas/GenerationConfig","description":"Configuration for text generation during graph search."},"max_community_description_length":{"type":"integer","title":"Max Community Description Length","default":65536},"max_llm_queries_for_global_search":{"type":"integer","title":"Max Llm Queries For Global Search","default":250},"local_search_limits":{"additionalProperties":{"type":"integer"},"type":"object","title":"Local Search Limits","default":{"__Entity__":20,"__Relationship__":20,"__Community__":20}}},"type":"object","title":"KGSearchSettings","generation_config":{"max_tokens_to_sample":1024,"model":"openai/gpt-4o","stream":false,"temperature":0.1,"top_p":1.0},"kg_search_level":"0","kg_search_type":"local","local_search_limits":{"__Community__":20,"__Entity__":20,"__Relationship__":20},"max_community_description_length":65536,"max_llm_queries_for_global_search":250,"use_kg_search":true},"ListVectorIndicesResponse":{"properties":{"indices":{"items":{"type":"object"},"type":"array","title":"Indices"}},"type":"object","required":["indices"],"title":"ListVectorIndicesResponse"},"Message":{"properties":{"role":{"anyOf":[{"$ref":"#/components/schemas/MessageType"},{"type":"string"}],"title":"Role"},"content":{"anyOf":[{"type":"string"},{"type":null}],"title":"Content"},"name":{"anyOf":[{"type":"string"},{"type":null}],"title":"Name"},"function_call":{"anyOf":[{"type":"object"},{"type":null}],"title":"Function Call"},"tool_calls":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":null}],"title":"Tool Calls"}},"type":"object","required":["role"],"title":"Message","content":"This is a test message.","role":"user"},"MessageContent":{"properties":{"content":{"type":"string","title":"Content"},"parent_id":{"anyOf":[{"type":"string"},{"type":null}],"title":"Parent Id"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"}},"type":"object","required":["content"],"title":"MessageContent"},"MessageType":{"type":"string","enum":["system","user","assistant","function","tool"],"title":"MessageType"},"PaginatedResultsWrapper_List_UserCollectionResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/UserCollectionResponse"},"type":"array","title":"Results"},"total_entries":{"type":"integer","title":"Total Entries"}},"type":"object","required":["results","total_entries"],"title":"PaginatedResultsWrapper[List[UserCollectionResponse]]"},"PaginatedResultsWrapper_List_UserOverviewResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/UserOverviewResponse"},"type":"array","title":"Results"},"total_entries":{"type":"integer","title":"Total Entries"}},"type":"object","required":["results","total_entries"],"title":"PaginatedResultsWrapper[List[UserOverviewResponse]]"},"PaginatedResultsWrapper_list_ChunkResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/ChunkResponse"},"type":"array","title":"Results"},"total_entries":{"type":"integer","title":"Total Entries"}},"type":"object","required":["results","total_entries"],"title":"PaginatedResultsWrapper[list[ChunkResponse]]"},"PaginatedResultsWrapper_list_ConversationOverviewResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/ConversationOverviewResponse"},"type":"array","title":"Results"},"total_entries":{"type":"integer","title":"Total Entries"}},"type":"object","required":["results","total_entries"],"title":"PaginatedResultsWrapper[list[ConversationOverviewResponse]]"},"PaginatedResultsWrapper_list_DocumentOverviewResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/DocumentOverviewResponse"},"type":"array","title":"Results"},"total_entries":{"type":"integer","title":"Total Entries"}},"type":"object","required":["results","total_entries"],"title":"PaginatedResultsWrapper[list[DocumentOverviewResponse]]"},"PaginatedResultsWrapper_list_DocumentResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/DocumentResponse"},"type":"array","title":"Results"},"total_entries":{"type":"integer","title":"Total Entries"}},"type":"object","required":["results","total_entries"],"title":"PaginatedResultsWrapper[list[DocumentResponse]]"},"PaginatedResultsWrapper_list_UserResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/shared__api__models__management__responses__UserResponse"},"type":"array","title":"Results"},"total_entries":{"type":"integer","title":"Total Entries"}},"type":"object","required":["results","total_entries"],"title":"PaginatedResultsWrapper[list[UserResponse]]"},"PromptConfig":{"properties":{"name":{"type":"string","title":"Name"},"template":{"type":"string","title":"Template"},"input_types":{"additionalProperties":{"type":"string"},"type":"object","title":"Input Types","default":{}}},"type":"object","required":["name","template"],"title":"PromptConfig"},"PromptResponse":{"properties":{"prompt_id":{"type":"string","format":"uuid","title":"Prompt Id"},"name":{"type":"string","title":"Name"},"template":{"type":"string","title":"Template"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"input_types":{"additionalProperties":{"type":"string"},"type":"object","title":"Input Types"}},"type":"object","required":["prompt_id","name","template","created_at","updated_at","input_types"],"title":"PromptResponse"},"RAGAgentResponse":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Messages","description":"Agent response messages"},"conversation_id":{"type":"string","title":"Conversation Id","description":"The conversation ID for the RAG agent response"}},"type":"object","required":["messages","conversation_id"],"title":"RAGAgentResponse","example":{"conversation_id":"a32b4c5d-6e7f-8a9b-0c1d-2e3f4a5b6c7d","messages":[{"function_call":{"arguments":"{\"query\":\"Aristotle biography\"}","name":"search"},"role":"assistant"},{"content":"1. Aristotle[A] (Greek:  Aristotls, pronounced [aristotls]; 384322 BC) was an Ancient Greek philosopher and polymath. His writings cover a broad range of subjects spanning the natural sciences, philosophy, linguistics, economics, politics, psychology, and the arts. As the founder of the Peripatetic school of philosophy in the Lyceum in Athens, he began the wider Aristotelian tradition that followed, which set the groundwork for the development of modern science.\n2. Aristotle[A] (Greek:  Aristotls, pronounced [aristotls]; 384322 BC) was an Ancient Greek philosopher and polymath. His writings cover a broad range of subjects spanning the natural sciences, philosophy, linguistics, economics, politics, psychology, and the arts. As the founder of the Peripatetic school of philosophy in the Lyceum in Athens, he began the wider Aristotelian tradition that followed, which set the groundwork for the development of modern science.\n3. Aristotle was born in 384 BC[C] in Stagira, Chalcidice,[2] about 55 km (34 miles) east of modern-day Thessaloniki.[3][4] His father, Nicomachus, was the personal physician to King Amyntas of Macedon. While he was young, Aristotle learned about biology and medical information, which was taught by his father.[5] Both of Aristotle's parents died when he was about thirteen, and Proxenus of Atarneus became his guardian.[6] Although little information about Aristotle's childhood has survived, he probably spent\n4. Aristotle was born in 384 BC[C] in Stagira, Chalcidice,[2] about 55 km (34 miles) east of modern-day Thessaloniki.[3][4] His father, Nicomachus, was the personal physician to King Amyntas of Macedon. While he was young, Aristotle learned about biology and medical information, which was taught by his father.[5] Both of Aristotle's parents died when he was about thirteen, and Proxenus of Atarneus became his guardian.[6] Although little information about Aristotle's childhood has survived, he probably spent\n5. Life\nIn general, the details of Aristotle's life are not well-established. The biographies written in ancient times are often speculative and historians only agree on a few salient points.[B]\n","name":"search","role":"function"},{"content":"Aristotle (384322 BC) was an Ancient Greek philosopher and polymath whose contributions have had a profound impact on various fields of knowledge. Here are some key points about his life and work:\n\n1. **Early Life**: Aristotle was born in 384 BC in Stagira, Chalcidice, which is near modern-day Thessaloniki, Greece. His father, Nicomachus, was the personal physician to King Amyntas of Macedon, which exposed Aristotle to medical and biological knowledge from a young age [C].\n\n2. **Education and Career**: After the death of his parents, Aristotle was sent to Athens to study at Plato's Academy, where he remained for about 20 years. After Plato's death, Aristotle left Athens and eventually became the tutor of Alexander the Great [C].\n\n3. **Philosophical Contributions**: Aristotle founded the Lyceum in Athens, where he established the Peripatetic school of philosophy. His works cover a wide range of subjects, including metaphysics, ethics, politics, logic, biology, and aesthetics. His writings laid the groundwork for many modern scientific and philosophical inquiries [A].\n\n4. **Legacy**: Aristotle's influence extends beyond philosophy to the natural sciences, linguistics, economics, and psychology. His method of systematic observation and analysis has been foundational to the development of modern science [A].\n\nAristotle's comprehensive approach to knowledge and his systematic methodology have earned him a lasting legacy as one of the greatest philosophers of all time.\n\nSources:\n- [A] Aristotle's broad range of writings and influence on modern science.\n- [C] Details about Aristotle's early life and education.","role":"assistant"}]}},"RAGResponse":{"properties":{"completion":{"title":"Completion","description":"The generated completion from the RAG process"},"search_results":{"$ref":"#/components/schemas/CombinedSearchResponse","description":"The search results used for the RAG process"}},"type":"object","required":["completion","search_results"],"title":"RAGResponse","example":{"completion":{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"Paris is the capital of France.","role":"assistant"}}],"id":"chatcmpl-example123"},"search_results":{"kg_search_results":[{"content":{"description":"Entity Description","metadata":{},"name":"Entity Name"},"extraction_ids":["c68dc72e-fc23-5452-8f49-d7bd46088a96"],"metadata":{"associated_query":"What is the capital of France?"},"method":"local","result_type":"entity"}],"vector_search_results":[{"chunk_id":"3f3d47f3-8baf-58eb-8bc2-0171fb1c6e09","collection_ids":[],"document_id":"3e157b3a-8469-51db-90d9-52e7d896b49b","metadata":{"associated_query":"What is the capital of France?","title":"example_document.pdf"},"score":0.23943702876567796,"text":"Example text from the document","user_id":"2acb499e-8428-543b-bd85-0d9098718220"}]}}},"ResultsWrapper_AllPromptsResponse_":{"properties":{"results":{"$ref":"#/components/schemas/AllPromptsResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[AllPromptsResponse]"},"ResultsWrapper_ChunkResponse_":{"properties":{"results":{"$ref":"#/components/schemas/ChunkResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[ChunkResponse]"},"ResultsWrapper_CollectionResponse_":{"properties":{"results":{"$ref":"#/components/schemas/shared__api__models__management__responses__CollectionResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[CollectionResponse]"},"ResultsWrapper_CombinedSearchResponse_":{"properties":{"results":{"$ref":"#/components/schemas/CombinedSearchResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[CombinedSearchResponse]"},"ResultsWrapper_CreateVectorIndexResponse_":{"properties":{"results":{"$ref":"#/components/schemas/CreateVectorIndexResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[CreateVectorIndexResponse]"},"ResultsWrapper_DeleteVectorIndexResponse_":{"properties":{"results":{"$ref":"#/components/schemas/DeleteVectorIndexResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[DeleteVectorIndexResponse]"},"ResultsWrapper_DocumentIngestionResponse_":{"properties":{"results":{"$ref":"#/components/schemas/DocumentIngestionResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[DocumentIngestionResponse]"},"ResultsWrapper_DocumentResponse_":{"properties":{"results":{"$ref":"#/components/schemas/DocumentResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[DocumentResponse]"},"ResultsWrapper_ListVectorIndicesResponse_":{"properties":{"results":{"$ref":"#/components/schemas/ListVectorIndicesResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[ListVectorIndicesResponse]"},"ResultsWrapper_NoneType_":{"properties":{"results":{"type":null,"title":"Results"}},"type":"object","required":["results"],"title":"ResultsWrapper[NoneType]"},"ResultsWrapper_RAGAgentResponse_":{"properties":{"results":{"$ref":"#/components/schemas/RAGAgentResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[RAGAgentResponse]"},"ResultsWrapper_RAGResponse_":{"properties":{"results":{"$ref":"#/components/schemas/RAGResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[RAGResponse]"},"ResultsWrapper_UpdatePromptResponse_":{"properties":{"results":{"$ref":"#/components/schemas/UpdatePromptResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[UpdatePromptResponse]"},"ResultsWrapper_UserResponse_":{"properties":{"results":{"$ref":"#/components/schemas/core__main__api__v3__users_router__UserResponse"}},"type":"object","required":["results"],"title":"ResultsWrapper[UserResponse]"},"ResultsWrapper_list_ChunkIngestionResponse__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/ChunkIngestionResponse"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"ResultsWrapper[list[ChunkIngestionResponse]]"},"ResultsWrapper_list_Tuple_str__Message___":{"properties":{"results":{"items":{"prefixItems":[{"type":"string"},{"$ref":"#/components/schemas/Message"}],"type":"array","maxItems":2,"minItems":2},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"ResultsWrapper[list[Tuple[str, Message]]]"},"ResultsWrapper_list_VectorSearchResult__":{"properties":{"results":{"items":{"$ref":"#/components/schemas/VectorSearchResult"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"ResultsWrapper[list[VectorSearchResult]]"},"UnprocessedChunk":{"properties":{"id":{"anyOf":[{"type":"string","format":"uuid"},{"type":null}],"title":"Id"},"document_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":null}],"title":"Document Id"},"collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Collection Ids","default":[]},"metadata":{"type":"object","title":"Metadata","default":{}},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"UnprocessedChunk","description":"An extraction from a document."},"UpdateChunk":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"},"text":{"type":"string","title":"Text"}},"type":"object","required":["id","text"],"title":"UpdateChunk","description":"An extraction from a document."},"UpdatePromptResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"UpdatePromptResponse"},"UserCollectionResponse":{"properties":{"collection_id":{"type":"string","format":"uuid","title":"Collection Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":null}],"title":"Description"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"},"document_count":{"type":"integer","title":"Document Count"}},"type":"object","required":["collection_id","name","description","created_at","updated_at","document_count"],"title":"UserCollectionResponse","description":"Collection information associated with a user"},"UserOverviewResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"is_superuser":{"type":"boolean","title":"Is Superuser"},"collection_count":{"type":"integer","title":"Collection Count"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","username","email","is_active","is_superuser","collection_count","created_at"],"title":"UserOverviewResponse","description":"Summary user information for list views"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VectorSearchResult":{"properties":{"chunk_id":{"type":"string","format":"uuid","title":"Chunk Id"},"document_id":{"type":"string","format":"uuid","title":"Document Id"},"user_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":null}],"title":"User Id"},"collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Collection Ids"},"score":{"type":"number","title":"Score"},"text":{"type":"string","title":"Text"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["chunk_id","document_id","user_id","collection_ids","score","text","metadata"],"title":"VectorSearchResult","description":"Result of a search operation.","chunk_id":"3f3d47f3-8baf-58eb-8bc2-0171fb1c6e09","collection_ids":[],"document_id":"3e157b3a-8469-51db-90d9-52e7d896b49b","metadata":{"associated_query":"What is the capital of France?","title":"example_document.pdf"},"score":0.23943702876567796,"text":"Example text from the document","user_id":"2acb499e-8428-543b-bd85-0d9098718220"},"VectorSearchSettings":{"properties":{"use_vector_search":{"type":"boolean","title":"Use Vector Search","description":"Whether to use vector search","default":true},"use_hybrid_search":{"type":"boolean","title":"Use Hybrid Search","description":"Whether to perform a hybrid search (combining vector and keyword search)","default":false},"filters":{"type":"object","title":"Filters","description":"Alias for search_filters","deprecated":true},"search_filters":{"type":"object","title":"Search Filters","description":"Filters to apply to the vector search. Allowed operators include `eq`, `neq`, `gt`, `gte`, `lt`, `lte`, `like`, `ilike`, `in`, and `nin`.\n\n      Commonly seen filters include operations include the following:\n\n        `{\"document_id\": {\"$eq\": \"9fbe403b-...\"}}`\n\n        `{\"document_id\": {\"$in\": [\"9fbe403b-...\", \"3e157b3a-...\"]}}`\n\n        `{\"collection_ids\": {\"$overlap\": [\"122fdf6a-...\", \"...\"]}}`\n\n        `{\"$and\": {\"$document_id\": ..., \"collection_ids\": ...}}`"},"search_limit":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Search Limit","description":"Maximum number of results to return","default":10},"offset":{"type":"integer","minimum":0.0,"title":"Offset","description":"Offset to paginate search results","default":0},"selected_collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Selected Collection Ids","description":"Collection IDs to search for"},"index_measure":{"$ref":"#/components/schemas/IndexMeasure","description":"The distance measure to use for indexing","default":"cosine_distance"},"include_values":{"type":"boolean","title":"Include Values","description":"Whether to include search score values in the search results","default":true},"include_metadatas":{"type":"boolean","title":"Include Metadatas","description":"Whether to include element metadata in the search results","default":true},"probes":{"type":"integer","title":"Probes","description":"Number of ivfflat index lists to query. Higher increases accuracy but decreases speed.","default":10},"ef_search":{"type":"integer","title":"Ef Search","description":"Size of the dynamic candidate list for HNSW index search. Higher increases accuracy but decreases speed.","default":40},"hybrid_search_settings":{"$ref":"#/components/schemas/HybridSearchSettings","description":"Settings for hybrid search","default":{"full_text_weight":1.0,"semantic_weight":5.0,"full_text_limit":200,"rrf_k":50}},"search_strategy":{"type":"string","title":"Search Strategy","description":"Search strategy to use (e.g., 'default', 'query_fusion', 'hyde')","default":"vanilla"}},"type":"object","title":"VectorSearchSettings","ef_search":40,"filters":{"category":"technology"},"hybrid_search_settings":{"full_text_limit":200,"full_text_weight":1.0,"rrf_k":50,"semantic_weight":5.0},"include_metadata":true,"index_measure":"cosine_distance","limit":20,"offset":0,"probes":10,"selected_collection_ids":["2acb499e-8428-543b-bd85-0d9098718220","3e157b3a-8469-51db-90d9-52e7d896b49b"],"use_hybrid_search":true,"use_vector_search":true},"core__main__api__v3__documents_router__CollectionResponse":{"properties":{"collection_id":{"type":"string","format":"uuid","title":"Collection Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":null}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["collection_id","name","description","created_at","updated_at"],"title":"CollectionResponse","example":{"collection_id":"d09dedb1-b2ab-48a5-b950-6e1f464d83e7","created_at":"2021-09-01T12:00:00Z","description":"A collection of documents.","name":"My Collection","updated_at":"2021-09-01T12:00:00Z"}},"core__main__api__v3__users_router__UserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"is_superuser":{"type":"boolean","title":"Is Superuser"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"},"last_login":{"anyOf":[{"type":"string"},{"type":null}],"title":"Last Login"},"collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Collection Ids"},"metadata":{"anyOf":[{"type":"object"},{"type":null}],"title":"Metadata"}},"type":"object","required":["id","username","email","is_active","is_superuser","created_at","updated_at","last_login","collection_ids","metadata"],"title":"UserResponse","description":"Detailed user information response"},"shared__api__models__base__ResultsWrapper_list_CollectionResponse____1":{"properties":{"results":{"items":{"$ref":"#/components/schemas/core__main__api__v3__documents_router__CollectionResponse"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"ResultsWrapper[list[CollectionResponse]]"},"shared__api__models__base__ResultsWrapper_list_CollectionResponse____2":{"properties":{"results":{"items":{"$ref":"#/components/schemas/shared__api__models__management__responses__CollectionResponse"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"ResultsWrapper[list[CollectionResponse]]"},"shared__api__models__management__responses__CollectionResponse":{"properties":{"collection_id":{"type":"string","format":"uuid","title":"Collection Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":null}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["collection_id","name","description","created_at","updated_at"],"title":"CollectionResponse"},"shared__api__models__management__responses__UserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"email":{"type":"string","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At","default":"2024-11-03T19:45:22.224439"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","default":"2024-11-03T19:45:22.224442"},"is_verified":{"type":"boolean","title":"Is Verified","default":false},"collection_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Collection Ids","default":[]},"hashed_password":{"anyOf":[{"type":"string"},{"type":null}],"title":"Hashed Password"},"verification_code_expiry":{"anyOf":[{"type":"string","format":"date-time"},{"type":null}],"title":"Verification Code Expiry"},"name":{"anyOf":[{"type":"string"},{"type":null}],"title":"Name"},"bio":{"anyOf":[{"type":"string"},{"type":null}],"title":"Bio"},"profile_picture":{"anyOf":[{"type":"string"},{"type":null}],"title":"Profile Picture"}},"type":"object","required":["id","email"],"title":"UserResponse"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}
